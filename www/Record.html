<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.4.min.css" />
    <meta name="msapplication-tap-highlight" content="no" />

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.mobile-1.4.4.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script src="js/lang.js"></script>
    <script type="text/javascript">
        app.initialize();


        function createTransaction() {
            var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
            db.transaction(populateDB, errorCB, successCB);
        }

        // Populate the database
        //
        function populateDB(tx) {
            //tx.executeSql('DROP TABLE USER');
            tx.executeSql('CREATE TABLE IF NOT EXISTS USER (id auto increment, username, password, serverAddress, nickName)');

            var userName = document.getElementById('txt-user-name').value;
            var password = document.getElementById('txt-password').value;
            var serverAddress = document.getElementById('txt-server-address').value;
            var nick = document.getElementById('txt-nick-name').value;

            tx.executeSql('INSERT INTO USER (username, password, serverAddress, nickName) VALUES ("'+userName+'","'+password+'","'+serverAddress+'","'+nick+'")');
        }

        // Transaction error callback
        //
        function errorCB(tx, err) {
            alert("Error processing SQL: "+err);
        }

        // Transaction success callback
        //
        function successCB() {
            alert("success!");
            window.location.assign("index.html");
        }

    </script>
</head>
<body>

<div data-role="page" data-theme="b" id="recordpage">

    <div data-role="header" data-theme="b">

        <h1>Pootle</h1>

    </div><!-- /header -->

    <div role="main" class="ui-content">

        <h3 tkey="newrecord"></h3>

        <label for="txt-nick-name">Mahlas</label>

        <input type="text" name="txt-nick-name" id="txt-nick-name" value="">

        <label for="txt-server-address">Sunucu Adresi</label>

        <input type="text" name="txt-server-address" id="txt-server-address" value="">

        <label for="txt-user-name">Kullanıcı Adı</label>

        <input type="text" name="txt-user-name" id="txt-user-name" value="">

        <label for="txt-password">Parola</label>

        <input type="password" name="txt-password" id="txt-password" value="">


        <a href="Record.html" data-rel="pop" onclick="createTransaction();" data-transition="pop" data-position-to="window" id="btn-submit" class="ui-btn ui-btn-b ui-corner-all">Kaydet</a>



    </div><!-- /content -->

</div><!-- /page -->


</body>
</html>